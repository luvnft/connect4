<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>connect4.xyz</title>
    <link data-trunk rel="rust" data-wasm-opt="z" />

    <link data-trunk rel="icon" href="web_assets/favicon.ico">

    <link data-trunk rel="copy-file" href="web_assets/manifest.json" />
    <link data-trunk rel="copy-file" href="./CNAME" />
    <link data-trunk rel="copy-dir" href="./assets/" />

    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        #copyButton {
            position: absolute;
            cursor: pointer;
            touch-action: manipulation;
            top: 10%;
            left: 50%;
            transform: translate(-50%, -50%);
            margin-top: 2%;
        }
    </style>
</head>

<body>

    <button id="copyButton" onclick="copyToClipboard()">Share this URL to play ðŸ“‹ <span id="url"></span></button>

    <script>
        function shouldDisplayButton() {
            const currentUrl = window.location.href;
            const locationPath = window.location.pathname;

            document.getElementById('url').textContent = currentUrl;

            if (locationPath && locationPath !== "/") {
                document.getElementById('copyButton').style.display = 'block';
            } else {
                hideCopyButton();
            }
        }

        document.getElementById('url').textContent = window.location.href;

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(window.location.href);
            } catch (err) {
                console.error('Failed to copy URL: ', err);
            }
        }

        function hideCopyButton() {
            document.getElementById('copyButton').style.display = 'none';
        }

        window.addEventListener('urlChanged', function () {
            shouldDisplayButton();
        });

        shouldDisplayButton();
    </script>

</body>


</html>
